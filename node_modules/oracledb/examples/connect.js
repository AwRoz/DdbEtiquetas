const oracledb = require('oracledb')
require('dotenv').config({path:'../../.env'})
require('./dbconfig.js')

async function runApp() {

    let connection;
    let dbConfig = {
        user          : 'DDB_RUTERO',
        password      : '*Rutero2019',
        connectString : '192.168.1.41:1521/LBRSTP'
      };
  
    try {
      // Get a standalone Oracle Database connection
      connection = await oracledb.getConnection(dbConfig);
      console.log('Connection was successful!');

      // Run a simple SQL on the connection
      const sql = `SELECT * FROM LIBRA.DDB_RUTERO WHERE ROWNUM =1`;
      const result = await connection.execute(sql);
    //   console.log(`The system date and time is:\n${result.rows[0][0]}`);
      console.log(result.rows[0][1])
  
    } catch (err) {
      console.error(err);
    } finally {
      if (connection) {
        try {
          await connection.close();
        } catch (err) {
          console.error(err);
        }
      }
    }
  }
  
  runApp();